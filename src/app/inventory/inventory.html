<div class="body">

  <app-dashboard-nav-top></app-dashboard-nav-top>
  
  <div class="container py-5">
    <div class="title-bar">
      <h1 class="fw-bold">Inventory</h1>
      <!-- <button class="btn btn-primary add-btn">
        <i class="bi bi-plus-circle me-1"></i> Add Product
      </button> -->
      
    </div>

    <div class="input-group mb-4 search-box">
      <input type="text" class="form-control" placeholder="Search product..." [(ngModel)]="searchQuery"
        (input)="applyFilter()" aria-label="Search" />
      <button class="btn btn-outline-secondary" type="button" (click)="clearSearch()">
        <i class="bi bi-x-circle"></i>
      </button>
    </div>

    <!-- Inventory Table -->
    <div class="table-responsive inventory-table p-3 bg-white shadow-sm rounded">
      <h5 class="mb-3 text-primary fw-bold"><i class="bi bi-archive"></i> Inventory List</h5>

      <table class="table table-hover align-middle table-sm table-bordered">
        <thead class="table-light text-nowrap text-center">
          <tr>
            <th>#</th>
            <th>Product</th>
            <th>Price (KES)</th>
            <th>Qty</th>
            <th>Low Stock</th>
            <th>Supplier</th>
            <th>Contact</th>
            <th>Phone</th>
            <th>Added</th>
            <!-- <th>Actions</th> -->
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let product of filteredInventory; let i = index">
            <td><strong>{{ i + 1 }}</strong></td>
            <td class="text-start text-truncate" style="max-width: 180px;">
              <div class="fw-semibold">{{ product.name }}</div>
              <small class="text-muted">{{ product.description }}</small>
            </td>
            <td>{{ product.price | currency:'KES' }}</td>
            <td>{{ product.quantity }}</td>
            <td>{{ product.low_stock_threshold }}</td>
            <td>{{ product.supplier?.name }}</td>
            <td>{{ product.supplier?.contact_person }}</td>
            <td>{{ product.supplier?.phone }}</td>
            <td>{{ product.time_added | date:'short' }}</td>
            <!-- <td class="text-nowrap">
              <div class="d-flex justify-content-center gap-2">
                <button class="btn btn-sm btn-outline-primary" title="Edit"><i class="bi bi-pencil"></i></button>
                <button class="btn btn-sm btn-outline-danger" title="Delete"><i class="bi bi-trash"></i></button>
              </div>
            </td> -->
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>